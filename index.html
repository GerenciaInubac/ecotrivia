<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECOtrivia</title>
    <style>
        body {
            font-family: 'Comic Sans MS', sans-serif;
            text-align: center;
            background-color: #142334; /* Azul oscuro del fondo */
            color: #ffffff; /* Texto blanco para contraste */
            margin: 0;
            padding: 0;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #142334; /* Azul oscuro */
        }

        header img {
            max-height: 60px;
        }

        header button {
            background-color: #FFEA00; /* Amarillo */
            border: none;
            border-radius: 5px;
            color: #142334; /* Azul oscuro */
            font-size: 1em;
            font-weight: bold;
            padding: 8px 15px;
            cursor: pointer;
            box-shadow: 0 4px rgba(0, 0, 0, 0.2);
        }

        header button:hover {
            background-color: #fcd303;
        }

        h1 {
            color: #FFEA00; /* Amarillo */
            font-size: 2.5em;
            margin: 20px 0;
        }

        .counters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .counter {
            border-radius: 10px;
            padding: 10px;
            font-size: 1.2em;
            color: #ffffff;
            font-weight: bold;
            box-shadow: 0 4px rgba(0, 0, 0, 0.2);
        }

        #ruleta-container {
            position: relative;
            margin: 20px auto;
            width: 350px;
            height: 350px;
        }

        #ruleta {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 10px solid #ffffff;
            background: conic-gradient(
                #f94144 0deg 60deg, /* Rojo */
                #f8961e 60deg 120deg, /* Naranja */
                #90be6d 120deg 180deg, /* Verde */
                #277da1 180deg 240deg, /* Azul */
                #577590 240deg 300deg, /* Azul Gris√°ceo */
                #6a4c93 300deg 360deg /* Morado */
            );
            transform-origin: center;
            animation: none;
        }

        #flecha {
            position: absolute;
            top: -15px;
            left: 50%;
            width: 0;
            height: 0;
            transform: translateX(-50%);
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 40px solid #ffffff; /* Flecha blanca */
            z-index: 2;
        }

        button {
            margin: 20px;
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #239B48; /* Verde */
            border: none;
            border-radius: 5px;
            color: #ffffff;
            cursor: pointer;
            box-shadow: 0 4px rgba(0, 0, 0, 0.2);
        }

        button:disabled {
            background-color: #666666;
            cursor: not-allowed;
            box-shadow: none;
        }

        .pregunta, .resultado {
            display: none;
            margin-top: 20px;
            font-size: 1.2em;
        }

        .opciones {
            display: flex;
            flex-direction: column;
            margin-top: 10px;
        }

        .opciones button {
            margin: 5px auto;
            width: 200px;
        }

        .final {
            font-size: 1.5em;
            color: #239B48; /* Verde */
            font-weight: bold;
        }

        footer {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 0;
            background-color: #142334; /* Azul oscuro */
        }

        footer img {
            max-height: 60px;
        }

        @keyframes girar {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(calc(360deg * var(--vueltas) + var(--angulo-final))); }
        }
    </style>
</head>
<body>
    <!-- Encabezado con bot√≥n de ayuda -->
    <header>
        <button onclick="abrirAyuda()">Ayuda</button>
        <img src="emprendimiento-logo.png" alt="+Emprendimiento">
    </header>

    <h1>ECOtrivia</h1>
    <div class="counters" id="counters">
        <!-- Contadores individuales por componente -->
    </div>
    <div id="ruleta-container">
        <div id="flecha"></div>
        <div id="ruleta"></div>
    </div>
    <button id="btnGirar" onclick="girarRuleta()">Girar Ruleta</button>
    <div class="pregunta" id="pregunta">
        <p id="textoPregunta"></p>
        <div class="opciones" id="opciones"></div>
    </div>
    <div class="resultado" id="resultado">
        <p id="textoResultado"></p>
        <button onclick="continuar()">Continuar</button>
    </div>
    <div class="final" id="final" style="display:none;">
        <p>¬°Felicidades! Has completado la trivia.</p>
        <p id="score"></p>
    </div>

    <!-- Pie de p√°gina con logo de la alcald√≠a -->
    <footer>
        <img src="alcaldia-logo.png" alt="Alcald√≠a de Barranquilla">
    </footer>

    <script>
        const bancoPreguntas = {
  "componente1": {
    "titulo": "Cambio Clim√°tico",
    "preguntas": [
      { "pregunta": "¬øQu√© es el cambio clim√°tico?", "opciones": ["Cambios naturales en las estaciones del a√±o", "Cambios en el clima debido a actividades humanas", "Cambios en la √≥rbita de la Tierra"], "respuesta": 1 },
      { "pregunta": "¬øCu√°l es una de las principales causas del calentamiento global?", "opciones": ["La producci√≥n de alimentos", "El uso de combustibles f√≥siles", "La explotaci√≥n agr√≠cola"], "respuesta": 1 },
      { "pregunta": "¬øQu√© consecuencia est√° relacionada con el cambio clim√°tico?", "opciones": ["Aumento en las temperaturas globales", "Disminuci√≥n de la contaminaci√≥n del aire", "Crecimiento de los glaciares"], "respuesta": 0 },
      { "pregunta": "¬øQu√© fen√≥meno afecta a las zonas costeras debido al cambio clim√°tico?", "opciones": ["Huracanes m√°s peque√±os", "Aumento del nivel del mar", "M√°s calor en los desiertos"], "respuesta": 1 },
      { "pregunta": "¬øQu√© propone el Acuerdo de Kioto?", "opciones": ["Reducir las emisiones de gases de efecto invernadero", "Prohibir el uso de energ√≠as renovables", "Reducir los costos del petr√≥leo"], "respuesta": 0 },
      { "pregunta": "¬øQu√© porcentaje de reducci√≥n de emisiones de Gases de Efecto Invernadero (GEI) se compromete Colombia para 2030?", "opciones": ["30%", "51%", "10%"], "respuesta": 1 },
      { "pregunta": "¬øCu√°l es el mayor emisor de Gases de Efecto Invernadero?", "opciones": ["Plantas y √°rboles", "F√°bricas y carros", "Los oc√©anos"], "respuesta": 1 },
      { "pregunta": "¬øQu√© puedes hacer para reducir tu huella de carbono en casa?", "opciones": ["Apagar las luces cuando no las uses", "Comprar m√°s productos en empaques grandes", "Usar m√°s el aire acondicionado"], "respuesta": 0 },
      { "pregunta": "¬øQu√© tanto se estima que subir√°n los niveles del mar por siglo debido al calentamiento global?", "opciones": ["30 cent√≠metros", "75 cent√≠metros", "1 metro"], "respuesta": 1 },
      { "pregunta": "¬øQu√© proceso permite que las plantas fijen el di√≥xido de carbono (CO‚ÇÇ)?", "opciones": ["Respiraci√≥n", "Fotos√≠ntesis", "Transpiraci√≥n"], "respuesta": 1 },
      { "pregunta": "¬øQu√© acci√≥n ayuda a combatir el cambio clim√°tico?", "opciones": ["Plantar √°rboles en zonas urbanas", "Comprar m√°s pl√°sticos", "Dejar los grifos abiertos al lavar los platos"], "respuesta": 0 },
      { "pregunta": "¬øQu√© sector es uno de los m√°s afectados por el cambio clim√°tico?", "opciones": ["El turismo y el comercio", "La agricultura y la salud humana", "Las telecomunicaciones y el transporte mar√≠timo"], "respuesta": 1 },
      { "pregunta": "¬øQu√© gases est√°n directamente relacionados con el calentamiento global?", "opciones": ["Ox√≠geno y nitr√≥geno", "Di√≥xido de carbono y metano", "Hidr√≥geno y helio"], "respuesta": 1 },
      { "pregunta": "¬øQu√© tanto CO‚ÇÇ puede absorber un √°rbol al a√±o?", "opciones": ["10 kg", "22 kg", "50 kg"], "respuesta": 1 },
      { "pregunta": "¬øQu√© debes hacer para ahorrar energ√≠a en tu escuela?", "opciones": ["Apagar las luces y computadoras cuando no las usas", "Dejar las luces prendidas todo el d√≠a", "Usar bombillas incandescentes"], "respuesta": 0 }
    ]
  },
  "componente2": {
    "titulo": "Residuos S√≥lidos",
    "preguntas": [
      { "pregunta": "¬øQu√© son los residuos s√≥lidos?", "opciones": ["Materiales desechados sin valor econ√≥mico", "Residuos l√≠quidos generados por industrias", "Productos biodegradables que no necesitan tratamiento"], "respuesta": 0 },
      { "pregunta": "¬øCu√°les son los residuos s√≥lidos generados en los hogares?", "opciones": ["Industriales", "Comerciales", "Dom√©sticos"], "respuesta": 2 },
      { "pregunta": "¬øQu√© significa compostaje?", "opciones": ["Reciclar envases de vidrio", "Transformar residuos org√°nicos en abono natural", "Disponer residuos en vertederos"], "respuesta": 1 },
      { "pregunta": "¬øQu√© representan las 3Rs en la gesti√≥n de residuos?", "opciones": ["Reciclar, reutilizar, reducir", "Reusar, redistribuir, recuperar", "Restaurar, reducir, reemplazar"], "respuesta": 0 },
      { "pregunta": "¬øQu√© color de contenedor se usa para botellas de vidrio?", "opciones": ["Azul", "Verde", "Naranja"], "respuesta": 1 },
      { "pregunta": "¬øCu√°nto tiempo tarda una botella de pl√°stico en degradarse?", "opciones": ["3 a 10 d√≠as", "40 a 50 a√±os", "500 a 1000 a√±os"], "respuesta": 2 },
      { "pregunta": "¬øQu√© tipo de residuos se consideran org√°nicos?", "opciones": ["Restos de comida y c√°scaras de frutas", "Vidrio y pl√°stico", "Cart√≥n corrugado"], "respuesta": 0 },
      { "pregunta": "¬øQu√© es un biodigestor?", "opciones": ["Contenedor para reciclar vidrio", "Un dispositivo que convierte residuos org√°nicos en biog√°s", "Equipo que separa pl√°sticos y metales"], "respuesta": 1 },
      { "pregunta": "¬øQu√© acciones fomentan el consumo responsable?", "opciones": ["Usar bolsas pl√°sticas", "Reutilizar botellas y usar el papel por ambas caras", "Comprar productos desechables"], "respuesta": 1 },
      { "pregunta": "¬øQu√© residuos s√≥lidos no son aprovechables?", "opciones": ["Pl√°sticos y vidrios", "Papel y cart√≥n", "Residuos que no tienen utilidad y deben desecharse correctamente"], "respuesta": 2 },
      { "pregunta": "¬øQu√© sucede con el icopor al ser desechado?", "opciones": ["Se degrada en un a√±o", "Nunca se degrada", "Tarda 10 a√±os en descomponerse"], "respuesta": 1 },
      { "pregunta": "¬øQu√© es reutilizar?", "opciones": ["Usar productos desechados para un nuevo prop√≥sito", "Reducir el consumo de recursos", "Fabricar nuevos productos a partir de residuos"], "respuesta": 0 },
      { "pregunta": "¬øQu√© residuos van en la caneca roja?", "opciones": ["Residuos peligrosos como soda c√°ustica", "Papel y cart√≥n reciclable", "Botellas de pl√°stico"], "respuesta": 0 },
      { "pregunta": "¬øQu√© materiales se reciclan para obtener celulosa?", "opciones": ["Papel y cart√≥n", "Pl√°sticos y metales", "Textiles y residuos de alimentos"], "respuesta": 0 },
      { "pregunta": "¬øQu√© residuos son biodegradables?", "opciones": ["Pl√°stico y vidrio", "Papel y c√°scaras de frutas", "Latas y cart√≥n laminado"], "respuesta": 1 }
    ]
  },
  "componente3": {
    "titulo": "Cultura Ambiental",
    "preguntas": [
      { "pregunta": "¬øQu√© medio de transporte contamina menos?", "opciones": ["Carro", "Moto", "Bicicleta"], "respuesta": 2 },
      { "pregunta": "¬øQu√© significa biodiversidad?", "opciones": ["La variedad de especies vivas en un lugar", "El conjunto de edificios y estructuras humanas", "La cantidad de r√≠os en un √°rea"], "respuesta": 0 },
      { "pregunta": "¬øQu√© acci√≥n ayuda a conservar el agua?", "opciones": ["Dejar el grifo abierto mientras lavas los platos", "Regar las plantas solo en las horas m√°s frescas del d√≠a", "Lavar el carro todos los d√≠as con manguera"], "respuesta": 1 },
      { "pregunta": "¬øCu√°l es el rol del ser humano en la conservaci√≥n del ambiente?", "opciones": ["Explotar recursos para satisfacer sus necesidades", "Admirar la biodiversidad sin actuar", "Proteger y cuidar la diversidad del planeta"], "respuesta": 2 },
      { "pregunta": "¬øQu√© son los PRAES?", "opciones": ["Programas educativos para analizar problemas ambientales locales", "Jornadas de limpieza en √°reas urbanas", "Actividades de reciclaje masivo"], "respuesta": 0 },
      { "pregunta": "¬øC√≥mo podemos cuidar nuestro planeta?", "opciones": ["Reciclando, reutilizando y plantando √°rboles", "Usando bolsas pl√°sticas en todas las compras", "Quemando residuos para generar energ√≠a"], "respuesta": 0 },
      { "pregunta": "¬øQu√© es el desarrollo sostenible?", "opciones": ["Usar recursos sin preocuparse por el futuro", "Desarrollar proyectos que da√±an el ambiente", "Satisfacer nuestras necesidades sin comprometer los recursos de las generaciones futuras"], "respuesta": 2 },
      { "pregunta": "¬øQu√© se puede hacer con c√°scaras de huevo o pl√°tano?", "opciones": ["Tirarlas en un contenedor de basura general", "Usarlas para compostaje y abono natural", "Mezclarlas con residuos pl√°sticos"], "respuesta": 1 },
      { "pregunta": "¬øQu√© representa un punto ecol√≥gico?", "opciones": ["Un lugar donde se clasifican los residuos para su reciclaje", "Una herramienta de puntuaci√≥n en proyectos de reciclaje", "Un contenedor para residuos peligrosos"], "respuesta": 0 },
      { "pregunta": "¬øQu√© haces con el papel sobrante de tus actividades escolares?", "opciones": ["Lo reciclo o lo reutilizo", "Lo tiro a la basura", "Lo quemo"], "respuesta": 0 },
      { "pregunta": "¬øQu√© energ√≠a se considera renovable?", "opciones": ["Carb√≥n", "Solar", "Petr√≥leo"], "respuesta": 1 },
      { "pregunta": "¬øQu√© recursos naturales son renovables?", "opciones": ["El agua y los √°rboles", "El petr√≥leo y el gas natural", "El carb√≥n y el hierro"], "respuesta": 0 },
      { "pregunta": "¬øQu√© haces para cuidar el ambiente?", "opciones": ["Reutilizo envases y reciclo papel", "Dejo las luces encendidas todo el d√≠a", "Uso productos desechables"], "respuesta": 0 },
      { "pregunta": "¬øCu√°l es el gas m√°s asociado al efecto invernadero?", "opciones": ["Metano (CH‚ÇÑ)", "Di√≥xido de carbono (CO‚ÇÇ)", "Ox√≠geno (O‚ÇÇ)"], "respuesta": 1 },
      { "pregunta": "¬øQu√© es la ecolog√≠a?", "opciones": ["El estudio de las relaciones entre los seres vivos y su entorno", "Una ciencia dedicada a la agricultura", "El cuidado de animales en peligro de extinci√≥n"], "respuesta": 0 }
    ]
  },
  "componente4": {
    "titulo": "Medici√≥n de Huella de Carbono",
    "preguntas": [
      { "pregunta": "¬øQu√© es la huella de carbono?", "opciones": ["La cantidad de agua que usamos al d√≠a", "La cantidad de gases de efecto invernadero que emitimos por nuestras actividades", "La cantidad de basura generada en una semana"], "respuesta": 1 },
      { "pregunta": "¬øQu√© actividades aumentan nuestra huella de carbono?", "opciones": ["Caminar o usar bicicleta", "Usar energ√≠a renovable", "Quemar combustibles f√≥siles como gasolina"], "respuesta": 2 },
      { "pregunta": "¬øCu√°l de estas opciones ayuda a reducir tu huella de carbono?", "opciones": ["Dejar los aparatos electr√≥nicos encendidos todo el tiempo", "Reciclar y reutilizar materiales", "Comprar productos con empaques de pl√°stico"], "respuesta": 1 },
      { "pregunta": "¬øQu√© gas se mide principalmente al calcular la huella de carbono?", "opciones": ["Ox√≠geno (O‚ÇÇ)", "Metano (CH‚ÇÑ)", "Di√≥xido de carbono (CO‚ÇÇ)"], "respuesta": 2 },
      { "pregunta": "¬øQu√© transporte genera menos huella de carbono?", "opciones": ["Autom√≥vil", "Autob√∫s", "Bicicleta"], "respuesta": 2 },
      { "pregunta": "¬øC√≥mo se mide la huella de carbono en una escuela?", "opciones": ["Calculando el n√∫mero de estudiantes", "Midiendo el uso de energ√≠a, agua y la cantidad de residuos generados", "Contando los libros de texto usados por a√±o"], "respuesta": 1 },
      { "pregunta": "¬øCu√°l es una fuente importante de emisiones de CO‚ÇÇ en los hogares?", "opciones": ["Los electrodom√©sticos y sistemas de calefacci√≥n", "Las plantas del jard√≠n", "Los libros y cuadernos"], "respuesta": 0 },
      { "pregunta": "¬øQu√© efecto tiene plantar √°rboles en la huella de carbono?", "opciones": ["Aumenta las emisiones de CO‚ÇÇ", "Absorbe CO‚ÇÇ y reduce la huella", "No tiene ning√∫n efecto"], "respuesta": 1 },
      { "pregunta": "¬øQu√© aparato consume m√°s energ√≠a en una escuela t√≠pica?", "opciones": ["Computadoras encendidas sin usar", "Bombillas LED", "Ventiladores manuales"], "respuesta": 0 },
      { "pregunta": "¬øCu√°nto tiempo tarda un pl√°stico en degradarse, aumentando la huella de carbono?", "opciones": ["1 a√±o", "50 a√±os", "M√°s de 500 a√±os"], "respuesta": 2 },
      { "pregunta": "¬øQu√© tipo de energ√≠a ayuda a reducir la huella de carbono?", "opciones": ["Energ√≠a solar", "Energ√≠a generada por carb√≥n", "Energ√≠a a base de gasolina"], "respuesta": 0 },
      { "pregunta": "¬øC√≥mo afecta el uso excesivo de agua caliente a tu huella de carbono?", "opciones": ["La aumenta, porque requiere energ√≠a para calentar el agua", "No la afecta, porque el agua es un recurso renovable", "La reduce, porque el agua limpia el ambiente"], "respuesta": 0 },
      { "pregunta": "¬øQu√© podemos hacer con los residuos org√°nicos para reducir nuestra huella de carbono?", "opciones": ["Quemarlos para deshacernos de ellos r√°pido", "Convertirlos en compost para fertilizar plantas", "Mezclarlos con residuos pl√°sticos"], "respuesta": 1 },
      { "pregunta": "¬øQu√© impacto tiene apagar las luces cuando no se usan?", "opciones": ["Aumenta la huella de carbono", "No afecta la huella de carbono", "Reduce la huella de carbono al ahorrar energ√≠a"], "respuesta": 2 },
      { "pregunta": "¬øPor qu√© es importante medir la huella de carbono en una escuela?", "opciones": ["Para saber cu√°ntos √°rboles plantar", "Para identificar las √°reas donde se pueden reducir las emisiones", "Para calcular el n√∫mero de estudiantes que pueden asistir"], "respuesta": 1 }
    ]
  },
"componente5": {
    "titulo": "Energ√≠as Renovables y Eficiencia Energ√©tica",
    "preguntas": [
      { "pregunta": "¬øQu√© son las energ√≠as renovables?", "opciones": ["Energ√≠as que no se agotan al usarse, como el sol y el viento", "Energ√≠as que generan calor", "Energ√≠as que solo usan carb√≥n"], "respuesta": 0 },
      { "pregunta": "¬øCu√°l de estas fuentes de energ√≠a es renovable?", "opciones": ["Petr√≥leo", "Solar", "Gas natural"], "respuesta": 1 },
      { "pregunta": "¬øQu√© es la energ√≠a e√≥lica?", "opciones": ["Energ√≠a generada por el viento", "Energ√≠a generada por el agua", "Energ√≠a generada por el sol"], "respuesta": 0 },
      { "pregunta": "¬øQu√© aparato usa m√°s energ√≠a en los hogares?", "opciones": ["Televisor", "Aire acondicionado", "Bombillas LED"], "respuesta": 1 },
      { "pregunta": "¬øQu√© beneficio tienen las energ√≠as renovables?", "opciones": ["Producen menos contaminaci√≥n", "Son ilimitadas", "Ambas respuestas son correctas"], "respuesta": 2 },
      { "pregunta": "¬øQu√© pa√≠s es l√≠der en el uso de energ√≠a solar?", "opciones": ["Estados Unidos", "China", "Espa√±a"], "respuesta": 1 },
      { "pregunta": "¬øQu√© se puede hacer para usar menos energ√≠a en casa?", "opciones": ["Dejar los aparatos enchufados", "Apagar luces y electrodom√©sticos cuando no se usen", "Usar solo agua caliente"], "respuesta": 1 },
      { "pregunta": "¬øC√≥mo se genera energ√≠a hidroel√©ctrica?", "opciones": ["Aprovechando el calor del sol", "Usando la fuerza del agua en movimiento", "Quemando carb√≥n"], "respuesta": 1 },
      { "pregunta": "¬øQu√© tipo de energ√≠a genera biog√°s?", "opciones": ["Energ√≠a a partir de residuos org√°nicos", "Energ√≠a por el viento", "Energ√≠a a partir del carb√≥n"], "respuesta": 0 },
      { "pregunta": "¬øQu√© tipo de bombilla consume menos energ√≠a?", "opciones": ["Incandescente", "Fluorescente", "LED"], "respuesta": 2 },
      { "pregunta": "¬øQu√© es la eficiencia energ√©tica?", "opciones": ["Usar menos energ√≠a para realizar la misma tarea", "Usar m√°s energ√≠a para ahorrar tiempo", "Cambiar aparatos viejos por nuevos"], "respuesta": 0 },
      { "pregunta": "¬øQu√© recurso natural se usa para generar energ√≠a geot√©rmica?", "opciones": ["El calor de la Tierra", "El agua de los oc√©anos", "La luz del sol"], "respuesta": 0 },
      { "pregunta": "¬øC√≥mo podemos usar menos energ√≠a en la escuela?", "opciones": ["Apagando las luces cuando no las necesitemos", "Usando computadores todo el tiempo", "Dejando los abanicos encendidos en todo momento"], "respuesta": 0 },
      { "pregunta": "¬øQu√© tipo de energ√≠a es mejor para el ambiente?", "opciones": ["Energ√≠a limpia, como la solar o e√≥lica", "Energ√≠a de petr√≥leo", "Energ√≠a generada por carb√≥n"], "respuesta": 0 },
      { "pregunta": "¬øQu√© aparato electr√≥nico es m√°s eficiente energ√©ticamente?", "opciones": ["Un televisor antiguo", "Un televisor con tecnolog√≠a LED", "Una nevera vieja"], "respuesta": 1 }
    ]
  },
  "componente6": {
    "titulo": "Conservaci√≥n y Restauraci√≥n de Ecosistemas",
    "preguntas": [
      { "pregunta": "¬øQu√© son los ecosistemas?", "opciones": ["Lugares donde viven plantas, animales y otros seres vivos que interact√∫an con el ambiente", "Sistemas para generar electricidad", "√Åreas construidas por el ser humano"], "respuesta": 0 },
      { "pregunta": "¬øQu√© es la deforestaci√≥n?", "opciones": ["La p√©rdida de √°rboles y bosques", "La reforestaci√≥n de √°reas da√±adas", "La plantaci√≥n de √°rboles en ciudades"], "respuesta": 0 },
      { "pregunta": "¬øQu√© acci√≥n ayuda a conservar los ecosistemas?", "opciones": ["Plantar √°rboles y cuidar las √°reas verdes", "Cortar √°rboles para construir m√°s edificios", "Usar fertilizantes qu√≠micos en exceso"], "respuesta": 0 },
      { "pregunta": "¬øQu√© ecosistemas son clave para capturar CO‚ÇÇ?", "opciones": ["Desiertos", "Bosques y humedales", "Zonas urbanas"], "respuesta": 1 },
      { "pregunta": "¬øQu√© es la reforestaci√≥n?", "opciones": ["Plantar √°rboles en √°reas donde se han perdido", "Construir carreteras en √°reas verdes", "Quitar √°rboles para construir casas"], "respuesta": 0 },
      { "pregunta": "¬øQu√© beneficios tienen los ecosistemas saludables?", "opciones": ["Proveen aire limpio y regulan el clima", "Reducen las lluvias y aumentan la temperatura", "Evitan el crecimiento de la biodiversidad"], "respuesta": 0 },
      { "pregunta": "¬øQu√© amenaza a los ecosistemas marinos?", "opciones": ["La contaminaci√≥n pl√°stica", "El exceso de algas", "Las olas del mar"], "respuesta": 0 },
      { "pregunta": "¬øQu√© podemos hacer para proteger los ecosistemas locales?", "opciones": ["Reducir residuos y evitar tirar basura en √°reas verdes", "Usar qu√≠micos en jardines y campos", "Extraer recursos sin l√≠mites"], "respuesta": 0 },
      { "pregunta": "¬øQu√© ecosistema protege las costas contra tormentas y erosi√≥n?", "opciones": ["Manglares", "Desiertos", "√Åreas urbanas"], "respuesta": 0 },
      { "pregunta": "¬øQu√© ecosistema es el hogar de la mayor cantidad de especies en el mundo?", "opciones": ["Selvas tropicales", "Desiertos", "Monta√±as"], "respuesta": 0 },
      { "pregunta": "¬øQu√© puede suceder si destruimos los ecosistemas?", "opciones": ["Perdemos biodiversidad y calidad de vida", "Se crean m√°s recursos naturales", "Se reduce la temperatura global"], "respuesta": 0 },
      { "pregunta": "¬øQu√© es un √°rea protegida?", "opciones": ["Espacio natural conservado para proteger la biodiversidad", "Una zona de construcci√≥n sostenible", "Un √°rea urbana sin contaminaci√≥n"], "respuesta": 0 },
      { "pregunta": "¬øQu√© animal es importante para los ecosistemas forestales?", "opciones": ["Abejas", "Mono Tit√≠", "Ambos"], "respuesta": 2 },
      { "pregunta": "¬øC√≥mo afecta la caza ilegal a los ecosistemas?", "opciones": ["Reduce la biodiversidad", "Mejora el equilibrio ecol√≥gico", "Ayuda a regular las poblaciones de animales"], "respuesta": 0 },
      { "pregunta": "¬øQu√© recurso natural almacenan los suelos saludables?", "opciones": ["Agua y carbono", "Petr√≥leo y gas", "Minerales y desechos"], "respuesta": 0 }
    ]
  }
}
;

        const colores = [
            "#f94144", /* Rojo */
            "#f8961e", /* Naranja */
            "#90be6d", /* Verde */
            "#277da1", /* Azul */
            "#577590", /* Azul Gris√°ceo */
            "#6a4c93"  /* Morado */
        ];

        const btnGirar = document.getElementById('btnGirar');
        const ruleta = document.getElementById('ruleta');
        const counters = document.getElementById('counters');
        const componentes = Object.keys(bancoPreguntas);

        const maxPreguntasPorComponente = 3;
        let preguntasPorComponente = {};
        let preguntasRespondidas = {};
        let componentesActivos = [...componentes];
        let score = 0;

        componentes.forEach((componente, index) => {
            preguntasPorComponente[componente] = 0;
            preguntasRespondidas[componente] = [];

            const counterElement = document.createElement('div');
            counterElement.className = 'counter';
            counterElement.id = `counter-${componente}`;
            counterElement.textContent = `${bancoPreguntas[componente].titulo}: 0 preguntas`;
            counterElement.style.backgroundColor = colores[index];
            counters.appendChild(counterElement);
        });

        function actualizarContadores(componente) {
            preguntasPorComponente[componente]++;
            const counterElement = document.getElementById(`counter-${componente}`);
            counterElement.textContent = `${bancoPreguntas[componente].titulo}: ${preguntasPorComponente[componente]} preguntas`;

            if (preguntasPorComponente[componente] === maxPreguntasPorComponente) {
                componentesActivos = componentesActivos.filter(c => c !== componente);
            }
        }

        function girarRuleta() {
            btnGirar.disabled = true;

            if (componentesActivos.length === 0) {
                finalizarTrivia();
                return;
            }

            const sectorSeleccionado = Math.floor(Math.random() * componentesActivos.length);
            const componenteSeleccionado = componentesActivos[sectorSeleccionado];
            const sectorIndex = componentes.indexOf(componenteSeleccionado);

            const vueltas = Math.floor(Math.random() * 5) + 3;
            const anguloPorSector = 360 / componentes.length;
            const anguloFinal = 360 - (sectorIndex * anguloPorSector + anguloPorSector / 2);

            ruleta.style.animation = 'none';
            ruleta.offsetHeight;
            ruleta.style.animation = '';
            ruleta.style.setProperty('--vueltas', vueltas);
            ruleta.style.setProperty('--angulo-final', anguloFinal + 'deg');
            ruleta.style.animation = 'girar 3s ease-out forwards';

            setTimeout(() => {
                mostrarPregunta(componenteSeleccionado);
            }, 3000);
        }

        function mostrarPregunta(componente) {
            const preguntas = bancoPreguntas[componente].preguntas;
            let preguntaSeleccionada;

            do {
                preguntaSeleccionada = preguntas[Math.floor(Math.random() * preguntas.length)];
            } while (preguntasRespondidas[componente].includes(preguntaSeleccionada.pregunta));

            preguntasRespondidas[componente].push(preguntaSeleccionada.pregunta);

            const textoPregunta = document.getElementById('textoPregunta');
            const opcionesContainer = document.getElementById('opciones');

            textoPregunta.textContent = preguntaSeleccionada.pregunta;
            opcionesContainer.innerHTML = '';
            preguntaSeleccionada.opciones.forEach((opcion, index) => {
                const botonOpcion = document.createElement('button');
                botonOpcion.textContent = opcion;
                botonOpcion.onclick = () => verificarRespuesta(index, preguntaSeleccionada.respuesta, componente, preguntaSeleccionada.opciones);
                opcionesContainer.appendChild(botonOpcion);
            });

            document.getElementById('pregunta').style.display = 'block';
        }

        function verificarRespuesta(seleccion, correcta, componente, opciones) {
            const resultado = document.getElementById('resultado');
            const textoResultado = document.getElementById('textoResultado');

            if (seleccion === correcta) {
                textoResultado.textContent = '¬°Correcto! üéâ';
                score++;
            } else {
                textoResultado.textContent = `¬°Ups! La respuesta correcta era: "${opciones[correcta]}"`;
            }

            actualizarContadores(componente);
            document.getElementById('pregunta').style.display = 'none';
            resultado.style.display = 'block';
        }

        function continuar() {
            document.getElementById('resultado').style.display = 'none';

            if (componentesActivos.length === 0) {
                finalizarTrivia();
            } else {
                btnGirar.disabled = false;
            }
        }

        function finalizarTrivia() {
            const finalDiv = document.getElementById('final');
            const scoreElement = document.getElementById('score');
            finalDiv.style.display = 'block';
            scoreElement.textContent = `Tu puntuaci√≥n final es ${score} de ${componentes.length * maxPreguntasPorComponente}.`;
        }

        function abrirAyuda() {
            const ayudaHtml = `
                <html>
                    <head><title>Ayuda - Trivia Infantil</title></head>
                    <body style="font-family: Arial, sans-serif; margin: 20px; color: #142334;">
                        <h1>¬øC√≥mo funciona el juego?</h1>
                        <p>Gira la ruleta: Haz clic en el bot√≥n para que la ruleta elija uno de los 6 componentes tem√°ticos: Cambio Clim√°tico, Residuos S√≥lidos, Cultura Ambiental, Huella de Carbono, Energ√≠as Renovables y Conservaci√≥n.</p>
                        <p>Responde preguntas: Contesta correctamente 3 preguntas por cada componente.</p>
                        <p>Suma puntos: Cada respuesta correcta aumenta tu puntuaci√≥n. Si fallas, se mostrar√° la respuesta correcta antes de continuar.</p>
                        <p>Objetivo: Completa las 18 preguntas, distribuidas en los 6 componentes, y obt√©n tu puntuaci√≥n final.</p>
                        <p>Cuidar nuestro planeta es una responsabilidad compartida que comienza con peque√±as acciones y decisiones conscientes; aprender sobre el cambio clim√°tico, el reciclaje, las energ√≠as renovables, la conservaci√≥n y otros temas ambientales nos convierte en agentes de cambio para construir un futuro sostenible y lleno de vida.</p>
                        <button onclick="window.close()" style="padding: 10px 20px; font-size: 1em; background-color: #239B48; color: #ffffff; border: none; border-radius: 5px;">Cerrar</button>
                    </body>
                </html>
            `;
            const nuevaVentana = window.open();
            nuevaVentana.document.write(ayudaHtml);
        }
    </script>
</body>
</html>
